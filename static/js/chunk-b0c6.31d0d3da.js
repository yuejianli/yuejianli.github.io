(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-b0c6"],{NqGJ:function(t,e,n){"use strict";n.r(e);var l=n("P2sY"),a=n.n(l),o=n("gIs1"),s=n("oDVq"),i=n("Yd3w"),r=n("eiz5"),c=[{id:1,name:"持仓"},{id:2,name:"持仓和自选"}],u={filters:{},data:function(){return{listLoading:!0,list:null,searchObj:{mockType:1,selectType:1},currentPage:1,pagesize:200,total:0,types:c,todayMoney:null,moneyInfo:{totalMoney:null,useMoney:null,marketMoney:null,takeoutMoney:null,profitMoney:null},dialogFormVisible:!1,dialogStatus:null,temp:{code:null,name:null,amount:null,price:null,entrustType:1,dbBuy:0,mockType:""}}},created:function(){this.listLoading=!0,this.initMoneyInfo(),this.fetchData(this.currentPage,this.pagesize)},methods:{initMoneyInfo:function(){var t=this;o.a.getInfo({mockType:this.searchObj.mockType}).then(function(e){t.moneyInfo=a()({},e.data)})},fetchData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;this.currentPage=e,this.pagesize=n,s.a.getPageList(this.currentPage,this.pagesize,this.searchObj).then(function(e){t.list=e.data.dataList,t.total=e.data.total,t.todayMoney=e.data.todayMoney,t.listLoading=!1}).catch(function(t){console.log(t)})},handleCurrentChange:function(t){this.currentPage=t,this.fetchData(this.currentPage,this.pagesize)},handleSizeChange:function(t){this.pagesize=t,this.currentPage=1,this.fetchData(this.currentPage,this.pagesize)},fillTemp:function(t){this.temp.amount=100,this.temp.price=t.price,this.temp.code=t.code,this.temp.name=t.name,this.temp.mockType=this.searchObj.mockType},showBuy:function(t){this.fillTemp(t),this.dialogStatus="buy",this.dialogFormVisible=!0},showSell:function(t){this.fillTemp(t),this.dialogStatus="sell",this.dialogFormVisible=!0},buy:function(){var t=this;this.$confirm("确定买入股票?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.a.buy(t.temp).then(function(e){t.$message({type:"success",message:"买入股票委托成功!"}),t.dialogFormVisible=!1,t.fetchData()})})},sell:function(){var t=this;this.$confirm("确定卖出股票?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r.a.sell(t.temp).then(function(e){t.$message({type:"success",message:"卖出股票委托成功!"}),t.dialogFormVisible=!1,t.fetchData()})})}}},f=(n("rqHm"),n("KHd+")),m=Object(f.a)(u,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",[n("el-row",[n("p",[t._v("虚拟股票持仓信息:")]),t._v(" "),n("el-col",{attrs:{span:12}},[n("el-form",{staticStyle:{width:"800px"},attrs:{model:t.moneyInfo}},[n("el-form-item",{attrs:{label:"",mode:"moneyInfo"}},[n("el-col",{attrs:{span:4}},[t._v("总资产:")]),t._v(" "),n("el-col",{attrs:{span:4}},[t._v(t._s(t.moneyInfo.totalMoney)+" ")]),t._v(" "),n("el-col",{attrs:{span:4}},[t._v("净值资产:")]),t._v(" "),n("el-col",{attrs:{span:4}},[t._v(t._s(t.moneyInfo.marketMoney)+" ")])],1),t._v(" "),n("el-form-item",{attrs:{label:""}},[n("el-col",{attrs:{span:4}},[t._v("可用资产:")]),t._v(" "),n("el-col",{staticClass:"focus-info",attrs:{span:4}},[t._v(t._s(t.moneyInfo.useMoney)+" ")]),t._v(" "),n("el-col",{attrs:{span:4}},[t._v("可取资产:")]),t._v(" "),n("el-col",{staticClass:"focus-info",attrs:{span:4}},[t._v(t._s(t.moneyInfo.takeoutMoney)+" ")])],1),t._v(" "),n("el-form-item",{attrs:{label:""}},[n("el-col",{attrs:{span:4}},[t._v("总盈亏:")]),t._v(" "),n("el-col",{staticClass:"focus-info",attrs:{span:4}},[t._v(t._s(t.moneyInfo.profitMoney)+" ")])],1)],1)],1)],1)],1),t._v(" "),n("el-row",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"}},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[n("el-form-item",{attrs:{label:"查询类型: "}},[n("el-select",{staticClass:"filter-item",attrs:{filterable:""},on:{change:function(e){t.fetchData()}},model:{value:t.searchObj.selectType,callback:function(e){t.$set(t.searchObj,"selectType",e)},expression:"searchObj.selectType"}},t._l(t.types,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),n("el-form-item",{attrs:{label:"今日总盈亏:"}},[n("el-col",{attrs:{span:18}},[t._v(t._s(t.todayMoney))])],1)],1)],1),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"股票编号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.code)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"股票内容",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.name)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"总数量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.allAmount)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"可用数量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.useAmount)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"成本价",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.avgPrice)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"当前价",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.price)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"总市值",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.allMoney)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"今日盈亏",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.todayMoney)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"浮动盈亏",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.floatMoney)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"盈亏比例 (%)",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.floatProportion)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"200",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(n){t.showBuy(e.row)}}},[t._v("买入委托")]),t._v(" "),e.row.useAmount>=100?n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){t.showSell(e.row)}}},[t._v("卖出委托")]):t._e()]}}])})],1),t._v(" "),n("el-dialog",{attrs:{visible:t.dialogFormVisible,title:"买卖股票"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[n("el-form",{ref:"dataForm",staticStyle:{width:"250px","margin-left":"20px"},attrs:{model:t.temp,"label-position":"left"}},[n("el-form-item",{attrs:{label:"价格:"}},[n("el-col",{attrs:{span:16}},[n("el-input",{model:{value:t.temp.price,callback:function(e){t.$set(t.temp,"price",e)},expression:"temp.price"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"股票数:"}},[n("el-col",{attrs:{span:16}},[n("el-input-number",{attrs:{step:100,min:100,"step-strictly":""},model:{value:t.temp.amount,callback:function(e){t.$set(t.temp,"amount",e)},expression:"temp.amount"}})],1)],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){"buy"===t.dialogStatus?t.buy():t.sell()}}},[t._v("确认")])],1)],1)],1)},[],!1,null,null,null);m.options.__file="index.vue";e.default=m.exports},Uubz:function(t,e,n){},Yd3w:function(t,e,n){"use strict";var l=n("t3Un");e.a={buy:function(t){return Object(l.a)({url:"/buy/buy",method:"post",data:t})}}},eiz5:function(t,e,n){"use strict";var l=n("t3Un");e.a={sell:function(t){return Object(l.a)({url:"/sell/sell",method:"post",data:t})}}},gIs1:function(t,e,n){"use strict";var l=n("t3Un");e.a={getInfo:function(t){return Object(l.a)({url:"/tradeMoney/info",method:"post",data:t})}}},oDVq:function(t,e,n){"use strict";var l=n("t3Un");e.a={getPageList:function(t,e,n){return Object(l.a)({url:"/tradePosition/list",method:"post",data:{pageNum:t,pageSize:e,mockType:n.mockType,selectType:n.selectType}})}}},rqHm:function(t,e,n){"use strict";var l=n("Uubz");n.n(l).a}}]);