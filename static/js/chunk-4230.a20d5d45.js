(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4230"],{"5b1c":function(t,e,a){"use strict";var i=a("t3Un");e.a={getPageList:function(t,e,a){return Object(i.a)({url:"/stockSelected/list",method:"post",data:{pageNum:t,pageSize:e,keyword:a.keyword}})},yesHistory:function(t,e,a){return Object(i.a)({url:"/stockSelected/yesHistory",method:"post",data:{pageNum:t,pageSize:e}})},add:function(t){return Object(i.a)({url:"/stockSelected/add",method:"post",data:t})},editNotes:function(t){return Object(i.a)({url:"/stockSelected/editNotes",method:"post",data:t})},deleteByCode:function(t){return Object(i.a)({url:"/stockSelected/deleteByCode",method:"post",data:t})}}},XLAy:function(t,e,a){"use strict";a.r(e);var i=a("P2sY"),s=a.n(i),o=a("t3Un"),l=function(t,e,a){return Object(o.a)({url:"/stock/list",method:"post",data:{pageNum:t,pageSize:e,keyword:a.keyword}})},n=a("xPtj"),r=a("5b1c"),c=a("hczI"),h={code:"",name:"",openingPrice:"",yesClosingPrice:"",highestPrice:"",lowestPrice:"",closingPrice:"",nowPrice:"",tradingVolume:"",tradingValue:"",amplitude:"",amplitudeProportion:""},u=[{id:1,name:"同步最近一周"},{id:2,name:"同步最近一月"},{id:3,name:"同步最近一年"},{id:4,name:"同步最近三年"},{id:5,name:"同步最近五年"},{id:6,name:"同步最近十年"},{id:7,name:"全部交易记录"},{id:0,name:"自定义日期"}],d={filters:{exchangeFilter:function(t){var e="";switch(t){case 0:e="深圳交易所股票";break;case 1:e="上海交易所股票";break;case 2:e="北京交易所股票"}return e}},data:function(){return{listLoading:!0,list:null,searchObj:{},currentPage:1,pagesize:10,total:0,showDetailDialogVisible:!1,showKDialogVisible:!1,showKType:1,showKText:"",detailInfo:h,url:"5bKz5rO96ZyWLOS9oOWlveWVig==",showHistoryDialogVisible:!1,history:{dateRange:[],listLoading:!0,list:null,searchObj:{code:"",startDate:"2023-03-01",endDate:"2023-03-12"},currentPage:1,pagesize:5,total:0},asyncHistoryDialogVisible:!1,asyncType:1,asyncDateRange:[],asyncTypes:u}},created:function(){this.listLoading=!0,this.fetchData(this.currentPage,this.pagesize),this.initDate()},methods:{initDate:function(){var t=new Date((new Date).toLocaleDateString()),e=new Date((new Date).toLocaleDateString());e.setTime(e.getTime()-2592e6),t.setTime(t.getTime()+864e5-1);var a=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),i=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();this.history.dateRange=[a,i],this.history.searchObj.startDate=a,this.history.searchObj.endDate=i},fetchData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;console.log("翻页.....",e,a),this.currentPage=e,this.pagesize=a,l(this.currentPage,this.pagesize,this.searchObj).then(function(e){t.list=e.data.list,t.total=e.data.total,t.listLoading=!1}).catch(function(t){console.log(t)})},handleCurrentChange:function(t){this.currentPage=t,this.fetchData(this.currentPage,this.pagesize)},handleSizeChange:function(t){this.pagesize=t,this.currentPage=1,this.fetchData(this.currentPage,this.pagesize)},showDetail:function(t){var e=this;n.a.getInfoNow(t.code).then(function(t){e.detailInfo=s()({},t.data),e.showDetailDialogVisible=!0})},showHistory:function(t){this.history.listLoading=!0,this.history.searchObj.code=t.code,this.fetchHistoryData(this.history.currentPage,this.history.pagesize),this.showHistoryDialogVisible=!0},changeDate:function(){console.log("date",this.history.dateRange),this.history.searchObj.startDate=this.history.dateRange[0],this.history.searchObj.endDate=this.history.dateRange[1],this.fetchHistoryData(this.history.currentPage,this.history.pagesize)},fetchHistoryData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;this.history.currentPage=e,this.history.pagesize=a,this.history.searchObj.pageSize=a,this.history.searchObj.pageNum=e,c.a.getPageList(this.history.searchObj).then(function(e){t.history.list=e.data.list,t.history.total=e.data.total,t.history.listLoading=!1}).catch(function(t){console.log(t)})},handleHistoryCurrentChange:function(t){this.history.currentPage=t,this.fetchHistoryData(this.history.currentPage,this.history.pagesize)},handleHistorySizeChange:function(t){this.history.pagesize=t,this.history.currentPage=1,this.fetchHistoryData(this.history.currentPage,this.history.pagesize)},addSelected:function(t){var e=this;this.$confirm("您确定将该股票【"+t.name+"】加入自选吗 ？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r.a.add({stockCode:t.code,notes:""}).then(function(t){e.$message({type:"success",message:"添加到自选列表成功!"})})})},showMinute:function(t){this.showKText="查看分钟级别的K线图",this.showKUrl(t.fullCode,1)},showDay:function(t){this.showKText="查看天级别的K线图",this.showKUrl(t.fullCode,2)},showWeekly:function(t){this.showKText="查看周级别的K线图",this.showKUrl(t.fullCode,3)},showMonthly:function(t){this.showKText="查看月级别的K线图",this.showKUrl(t.fullCode,4)},showKUrl:function(t,e){var a=this;n.a.getStockKline(t,e).then(function(t){a.url=t.data,a.showKDialogVisible=!0})},syncHistoryDataShow:function(){this.asyncType=1,this.showHistoryDialogVisible=!1,this.asyncHistoryDialogVisible=!0},asyncHistoryData:function(){var t=this,e={code:this.history.searchObj.code,type:this.asyncType,exchange:"0",startDate:this.asyncDateRange[0]||"",endDate:this.asyncDateRange[1]||""};n.a.stockHistoryAsync(e).then(function(e){t.asyncHistoryDialogVisible=!1,t.showHistoryDialogVisible=!0,t.fetchHistoryData()})}}},p=a("KHd+"),g=Object(p.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px","margin-bottom":"30px"},attrs:{placeholder:"股票的代码或者名称"},on:{change:function(e){t.fetchData()}},model:{value:t.searchObj.keyword,callback:function(e){t.$set(t.searchObj,"keyword",e)},expression:"searchObj.keyword"}})],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",prop:"code",label:"股票代码",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.code))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"股票名称",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.name)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"股票类型",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t._f("exchangeFilter")(e.row.exchange))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"股票代码全称",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.fullCode)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.showDetail(e.row)}}},[t._v("查看详细信息")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.showHistory(e.row)}}},[t._v("查看历史")]),t._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){t.addSelected(e.row)}}},[t._v("加入自选")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.showMinute(e.row)}}},[t._v("分钟k线")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.showDay(e.row)}}},[t._v("天k线")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.showWeekly(e.row)}}},[t._v("周k线")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.showMonthly(e.row)}}},[t._v("月k线")])]}}])})],1),t._v(" "),a("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{total:t.total,"current-page":t.currentPage,"page-sizes":[5,10,50,100,500],"page-size":t.pagesize,layout:"total, prev, pager, next,sizes, jumper"},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}}),t._v(" "),a("el-dialog",{attrs:{visible:t.showDetailDialogVisible,title:"查看股票信息"},on:{"update:visible":function(e){t.showDetailDialogVisible=e}}},[a("el-form",{staticStyle:{width:"800px"},attrs:{model:t.detailInfo}},[a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:6}},[t._v("代码:")]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v(t._s(t.detailInfo.code)+" ")]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v("名称:")]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v(t._s(t.detailInfo.name)+" ")])],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:6}},[t._v("开盘价:")]),t._v(" "),a("el-col",{staticClass:"focus-info",attrs:{span:6}},[t._v(t._s(t.detailInfo.openingPrice)+" ")]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v("昨天收盘价:")]),t._v(" "),a("el-col",{staticClass:"focus-info",attrs:{span:6}},[t._v(t._s(t.detailInfo.yesClosingPrice)+" ")])],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:6}},[t._v("最高价格:")]),t._v(" "),a("el-col",{staticClass:"focus-info",attrs:{span:6}},[t._v(t._s(t.detailInfo.highestPrice)+" ")]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v("最低价格:")]),t._v(" "),a("el-col",{staticClass:"focus-info",attrs:{span:6}},[t._v(t._s(t.detailInfo.lowestPrice)+" ")])],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:6}},[t._v("当前的价格:")]),t._v(" "),a("el-col",{staticClass:"focus-info",attrs:{span:6}},[t._v(t._s(t.detailInfo.closingPrice)+" ")]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v("今天收盘价:")]),t._v(" "),a("el-col",{staticClass:"focus-info",attrs:{span:6}},[t._v(t._s(t.detailInfo.nowPrice)+" ")])],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:6}},[t._v("成交量(股):")]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v(t._s(t.detailInfo.tradingVolume)+" ")]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v("成交量金额:")]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v(t._s(t.detailInfo.tradingValue)+" ")])],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:6}},[t._v("涨跌幅度:")]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v(t._s(t.detailInfo.amplitude)+" ")]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v("涨跌幅度百分比:")]),t._v(" "),a("el-col",{staticClass:"focus-info",attrs:{span:6}},[t._v(t._s(t.detailInfo.amplitudeProportion)+" ")])],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showDetailDialogVisible=!1}}},[t._v(" 返回")])],1)],1),t._v(" "),a("el-dialog",{attrs:{visible:t.showKDialogVisible,title:t.showKText},on:{"update:visible":function(e){t.showKDialogVisible=e}}},[a("el-form",{staticStyle:{width:"800px"},attrs:{model:t.detailInfo}},[a("el-form-item",{attrs:{label:""}},[a("img",{attrs:{src:"data:image/png;base64,"+t.url,alt:""}})])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showKDialogVisible=!1}}},[t._v(" 返回")])],1)],1),t._v(" "),a("el-dialog",{attrs:{visible:t.showHistoryDialogVisible,title:"查看历史记录信息",width:"90%"},on:{"update:visible":function(e){t.showHistoryDialogVisible=e}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.history}},[a("el-form-item",{attrs:{label:"查询范围: "}},[a("el-date-picker",{attrs:{type:"daterange",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(e){t.changeDate()}},model:{value:t.history.dateRange,callback:function(e){t.$set(t.history,"dateRange",e)},expression:"history.dateRange"}})],1),t._v(" "),a("el-form-item",[t._e()],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.history.listLoading,expression:"history.listLoading"}],attrs:{data:t.history.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"currDate",label:"日期",width:"200px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"code",label:"股票编码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"closingPrice",label:"股票编码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"highestPrice",label:"最高价格"}}),t._v(" "),a("el-table-column",{attrs:{prop:"lowestPrice",label:"最低价格"}}),t._v(" "),a("el-table-column",{attrs:{prop:"openingPrice",label:"开盘价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"yesClosingPrice",label:"昨天的收盘价",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amplitude",label:"涨跌额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amplitudeProportion",label:"涨跌幅"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tradingVolume",label:"成交量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tradingValue",label:"成交金额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"outDish",label:"外盘数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"innerDish",label:"内盘数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"changingProportion",label:"换手率"}}),t._v(" "),a("el-table-column",{attrs:{prop:"than",label:"量比"}}),t._v(" "),a("el-table-column",{attrs:{prop:"avgPrice",label:"均价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ttmPriceRatio",label:"TTM 市盈率"}}),t._v(" "),a("el-table-column",{attrs:{prop:"buyHand",label:"买前五手"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sellHand",label:"卖前五手"}}),t._v(" "),a("el-table-column",{attrs:{prop:"appointThan",label:"委比"}})],1),t._v(" "),a("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{total:t.history.total,"current-page":t.history.currentPage,"page-sizes":[5,7,10,20],"page-size":t.history.pagesize,layout:"total, prev, pager, next,sizes, jumper"},on:{"current-change":t.handleHistoryCurrentChange,"size-change":t.handleHistorySizeChange}})],1)],1),t._v(" "),a("el-dialog",{attrs:{visible:t.asyncHistoryDialogVisible,title:"同步历史交易信息"},on:{"update:visible":function(e){t.asyncHistoryDialogVisible=e}}},[a("el-form",{staticStyle:{width:"800px"}},[a("el-form-item",{attrs:{label:"同步范围:"}},[a("el-col",{attrs:{span:10}},[a("el-select",{staticClass:"filter-item",model:{value:t.asyncType,callback:function(e){t.asyncType=e},expression:"asyncType"}},t._l(t.asyncTypes,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),0==t.asyncType?a("el-col",{attrs:{span:10}},[a("el-date-picker",{attrs:{"default-time":["00:00:00","23:59:59"],type:"daterange",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.asyncDateRange,callback:function(e){t.asyncDateRange=e},expression:"asyncDateRange"}})],1):t._e()],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.asyncHistoryDialogVisible=!1}}},[t._v(" 返回")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(e){t.asyncHistoryData()}}},[t._v("确认")])],1)],1)],1)},[],!1,null,null,null);g.options.__file="index.vue";e.default=g.exports},hczI:function(t,e,a){"use strict";var i=a("t3Un");e.a={getPageList:function(t){return Object(i.a)({url:"/stockHistory/history",method:"post",data:t})},listDayRange:function(t){return Object(i.a)({url:"/stockHistory/listDayRange",method:"post",data:t})}}},xPtj:function(t,e,a){"use strict";var i=a("t3Un");e.a={getInfoNow:function(t){return Object(i.a)({url:"/stockCrawler/getStockInfo",method:"post",data:{code:t}})},getStockKline:function(t,e){return Object(i.a)({url:"/stockCrawler/getStockKline",method:"post",data:{code:t,type:e}})},stockHistoryAsync:function(t){return Object(i.a)({url:"/stockCrawler/stockHistoryAsync",method:"post",data:t})}}}}]);